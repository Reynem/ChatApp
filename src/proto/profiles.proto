syntax = "proto3";

option go_package = "src/proto/profiles;proto";

import "google/protobuf/timestamp.proto"; // Ignore

package alexchatapp;

message Profile {
    uint64 user_id = 1;
    string profile_name = 2;
    optional string bio = 3;
    optional string avatar_url = 4;
    optional string status = 5;
    google.protobuf.Timestamp last_seen = 6; // Ignore
}

message CreateProfileRequest {
    uint64 user_id = 1;
    string profile_name = 2;
    optional string bio = 3;
    optional string avatar_url = 4;
    optional string status = 5;
}

message CreateProfileResponse {
    int64 status_code = 1;
}

message GetProfileRequest {
    uint64 user_id = 1;
}

message GetProfileResponse {
    Profile profile = 1;
}

message UpdateProfileRequest {
    uint64 user_id = 1;
    optional string profile_name = 2;
    optional string bio = 3;
    optional string avatar_url = 4;
    optional string status = 5;
}

message UpdateProfileResponse {
    int64 status_code = 1;
    optional string response = 2;
}

message UpdateOnlineStatusRequest {
    uint64 user_id = 1;
    google.protobuf.Timestamp last_seen = 2;
}

message UpdateOnlineStatusResponse {
    int64 status_code = 1;
}

service ProfileService {
    rpc GetProfile(GetProfileRequest) returns (GetProfileResponse);
    rpc CreateProfile(CreateProfileRequest) returns (CreateProfileResponse);
    rpc UpdateProfile(UpdateProfileRequest) returns (UpdateProfileResponse);
    rpc UpdateOnlineStatus(UpdateOnlineStatusRequest) returns (UpdateOnlineStatusResponse);
}